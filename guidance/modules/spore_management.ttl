@base <https://raw.githubusercontent.com/louspringer/ontology-framework/main/guidance/modules/spore_management#> .

@prefix : <./#> .
@prefix core: <https://raw.githubusercontent.com/louspringer/ontology-framework/main/guidance/core#> .
@prefix dc: <http://purl.org/dc/elements/1.1/#> .
@prefix dct: <http://purl.org/dc/terms/#> .
@prefix meta: <http://example.org/guidance#> .
@prefix model: <https://raw.githubusercontent.com/louspringer/ontology-framework/main/guidance/model#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

:exampleSporeIntegration1 a :SporeIntegration  ;
    rdfs:label "Example SporeIntegration 1" ;
    rdfs:comment "This is example instance 1 of class SporeIntegration" ;
    :integratesSpore :exampleOntology1 .

:exampleSporeIntegration2 a :SporeIntegration  ;
    rdfs:label "Example SporeIntegration 2" ;
    rdfs:comment "This is example instance 2 of class SporeIntegration" ;
    :integratesSpore :exampleOntology2 .

:exampleSporeManager1 a :SporeManager  ;
    rdfs:label "Example SporeManager 1" ;
    rdfs:comment "This is example instance 1 of class SporeManager" .

:exampleSporeManager2 a :SporeManager  ;
    rdfs:label "Example SporeManager 2" ;
    rdfs:comment "This is example instance 2 of class SporeManager" .

:exampleSporeValidator1 a :SporeValidator  ;
    rdfs:label "Example SporeValidator 1" ;
    rdfs:comment "This is example instance 1 of class SporeValidator" ;
    :validatesSpore :exampleTransformationPattern1 .

:exampleSporeValidator2 a :SporeValidator  ;
    rdfs:label "Example SporeValidator 2" ;
    rdfs:comment "This is example instance 2 of class SporeValidator" ;
    :validatesSpore :exampleTransformationPattern2 .

:SporeIntegrationShape a sh:NodeShape  ;
    sh:property :shape1sh:minCount 1 ;
            sh:path :integratesSpore .
        :shape1 sh:datatype xsd:integer  ;
            sh:maxCount 1 ;
            sh:maxInclusive 5 ;
            sh:minCount 1 ;
            sh:minInclusive 1 ;
            sh:path core:complexity ;
    sh:targetClass :SporeIntegration .

:SporeManagementModule a owl:Ontology  ;
    rdfs:label "Spore Management Module" ;
    dc:title "Spore Management Module" ;
    dc:version "1.0.0" ;
    dct:created "2024-03-21T00:00:00"^^xsd:dateTime ;
    dct:modified "2024-03-21T00:00:00"^^xsd:dateTime ;
    rdfs:comment "Guidance for managing Semantic Spores in the ontology framework" ;
    owl:imports <./core.ttl>,
        <./model.ttl>,
        <./validation.ttl> ;
    owl:versionInfo "1.0.0" .

<./spore_management#SporeManagementModule#ModuleShape> a sh:NodeShape ;
    sh:property :shape2sh:datatype xsd:string ;
            sh:minCount 1 ;
            sh:path <./spore_management#SporeManagementModule#version>  .
        :shape1 sh:datatype xsd:string  ;
            sh:minCount 1 ;
            sh:path <./spore_management#SporeManagementModule#label>  .
        :shape1 sh:datatype xsd:string  ;
            sh:minCount 1 ;
            sh:path <./spore_management#SporeManagementModule#description> ;
    sh:targetClass <./spore_management#SporeManagementModule#Module> .

:SporeValidatorShape a sh:NodeShape  ;
    sh:property :shape3sh:minCount 1 ;
            sh:path :validatesSpore .
        :shape1 sh:datatype xsd:integer  ;
            sh:maxCount 1 ;
            sh:maxInclusive 5 ;
            sh:minCount 1 ;
            sh:minInclusive 1 ;
            sh:path core:complexity ;
    sh:targetClass :SporeValidator .

:confirmedViolation a owl:ObjectProperty  ;
    rdfs:label "Confirmed Violation" ;
    rdfs:comment "Links spore to conformance violations" ;
    rdfs:domain meta:TransformationPattern ;
    rdfs:range xsd:string .

:distributesPatch a owl:ObjectProperty  ;
    rdfs:label "Distributes Patch" ;
    rdfs:comment "Links spore to its patches" ;
    rdfs:domain meta:TransformationPattern ;
    rdfs:range meta:ConceptPatch .

:sporeIntegrationGuidance a owl:NamedIndividual,
        :SporeIntegration  ;
    rdfs:label "Spore Integration Guidance" ;
    rdfs:comment """Spore integration process:
    1. Validate spore against governance rules
    2. Check target model compatibility
    3. Apply patches and track changes
    4. Validate integration results""" ;
    core:complexity 3 ;
    core:sourceContext "Model Integration" ;
    core:targetContext "System Evolution" .

:sporeValidationGuidance a owl:NamedIndividual,
        :SporeValidator  ;
    rdfs:label "Spore Validation Guidance" ;
    rdfs:comment """Spore validation requirements:
    1. Register patterns via meta:TransformationPattern
    2. Support SHACL validation rules
    3. Enable patch distribution via meta:distributesPatch
    4. Track conformance violations via meta:confirmedViolation""" ;
    core:complexity 2 ;
    core:sourceContext "Spore Governance" ;
    core:targetContext "Model Quality" .

:integratesSpore a owl:ObjectProperty  ;
    rdfs:label "Integrates Spore" ;
    rdfs:comment "Links integration process to target model" ;
    rdfs:domain :SporeIntegration ;
    rdfs:range owl:Ontology .

:validatesSpore a owl:ObjectProperty  ;
    rdfs:label "Validates Spore" ;
    rdfs:comment "Links validator to spore validation process" ;
    rdfs:domain :SporeValidator ;
    rdfs:range meta:TransformationPattern .

:SporeManager a owl:Class  ;
    rdfs:label "Spore Manager" ;
    rdfs:comment "Manages Semantic Spores according to governance rules" ;
    rdfs:subClassOf model:ModelFirstPrinciple ;
    owl:versionInfo "1.0.0" .

:SporeIntegration a owl:Class  ;
    rdfs:label "Spore Integration" ;
    rdfs:comment "Handles integration of spores into target models" ;
    rdfs:subClassOf :SporeManager ;
    owl:versionInfo "1.0.0" .

:SporeValidator a owl:Class  ;
    rdfs:label "Spore Validator" ;
    rdfs:comment "Validates spores against governance rules" ;
    rdfs:subClassOf :SporeManager ;
    owl:versionInfo "1.0.0" .

[] a sh:NodeShape ;
    sh:property :shape4sh:minCount 1 ;
            sh:path rdfs:range  .
        :shape1 sh:minCount 1  ;
            sh:path rdfs:domain ;
    sh:targetClass rdf:Property .

[] a sh:NodeShape ;
    sh:property :shape5sh:datatype xsd:string ;
            sh:minCount 1 ;
            sh:path owl:versionInfo  .
        :shape1 sh:datatype xsd:string  ;
            sh:minCount 1 ;
            sh:path rdfs:label  .
        :shape1 sh:datatype xsd:string  ;
            sh:minCount 1 ;
            sh:path rdfs:comment ;
    sh:targetClass owl:Class .

