@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix meta: <./meta#> .
@prefix metameta: <./metameta#> .
@prefix problem: <./problem#> .
@prefix solution: <./solution#> .
@prefix conversation: <./conversation#> .
@prefix process: <./process#> .
@prefix guidance: <./guidance#> .
@prefix session: <./session#> .

session: a owl:Ontology ;
    rdfs:label "Session Ontology"@en ;
    rdfs:comment "Tracks the current work session and next steps"@en ;
    owl:versionInfo "0.1.0" .

session:Session a owl:Class ;
    rdfs:label "Session"@en ;
    rdfs:comment "A work session in the ontology framework"@en ;
    owl:versionInfo "0.1.0" .

session:Task a owl:Class ;
    rdfs:label "Task"@en ;
    rdfs:comment "A task to be completed in the session"@en ;
    owl:versionInfo "0.1.0" .

session:hasTask a owl:ObjectProperty ;
    rdfs:label "has task"@en ;
    rdfs:comment "Links a session to its tasks"@en ;
    rdfs:domain session:Session ;
    rdfs:range session:Task ;
    owl:versionInfo "0.1.0" .

session:hasStatus a owl:DatatypeProperty ;
    rdfs:label "has status"@en ;
    rdfs:comment "The status of a task or session"@en ;
    rdfs:domain [ rdf:type owl:Class ;
                  owl:unionOf ( session:Task session:Session )
                ] ;
    rdfs:range xsd:string ;
    owl:versionInfo "0.1.0" .

session:hasPriority a owl:DatatypeProperty ;
    rdfs:label "has priority"@en ;
    rdfs:comment "The priority of a task"@en ;
    rdfs:domain session:Task ;
    rdfs:range xsd:string ;
    owl:versionInfo "0.1.0" .

session:hasDescription a owl:DatatypeProperty ;
    rdfs:label "has description"@en ;
    rdfs:comment "A detailed description of a task"@en ;
    rdfs:domain session:Task ;
    rdfs:range xsd:string ;
    owl:versionInfo "0.1.0" .

session:currentSession a session:Session ;
    rdfs:label "Current Session"@en ;
    rdfs:comment "The current work session"@en ;
    session:hasStatus "Active" .

session:task1 a session:Task ;
    rdfs:label "Set Up Project Ontology"@en ;
    rdfs:comment "Create a new project ontology using GuidanceMCPService"@en ;
    session:hasStatus "In Progress" ;
    session:hasPriority "HIGH" ;
    session:hasDescription "Using BFG9K MCP to create and manage a new project ontology" .

session:task2 a session:Task ;
    rdfs:label "Define Domain Classes"@en ;
    rdfs:comment "Define domain-specific classes for the project"@en ;
    session:hasStatus "Pending" ;
    session:hasPriority "HIGH" ;
    session:hasDescription "Create classes with proper labels, comments, and version info" .

session:task3 a session:Task ;
    rdfs:label "Establish Validation Rules"@en ;
    rdfs:comment "Set up SHACL validation rules for the domain"@en ;
    session:hasStatus "Pending" ;
    session:hasPriority "MEDIUM" ;
    session:hasDescription "Define SHACL shapes to validate the domain ontology" .

session:currentSession session:hasTask session:task1, session:task2, session:task3 .

# SHACL shapes for validation
session:TaskShape a sh:NodeShape ;
    sh:targetClass session:Task ;
    sh:property [
        sh:path session:hasStatus ;
        sh:datatype xsd:string ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:in ( "Pending" "In Progress" "Completed" "Blocked" ) ;
    ] , [
        sh:path session:hasPriority ;
        sh:datatype xsd:string ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:in ( "HIGH" "MEDIUM" "LOW" ) ;
    ] , [
        sh:path rdfs:label ;
        sh:datatype xsd:string ;
        sh:languageIn ( "en" ) ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] , [
        sh:path rdfs:comment ;
        sh:datatype xsd:string ;
        sh:languageIn ( "en" ) ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

